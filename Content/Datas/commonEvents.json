{"commonObjects":[{"events":[{"id":1,"name":"Hero action","p":[],"r":{"1":{"bh":true,"c":[]}},"sys":false}],"hId":-1,"id":1,"name":"空的","ooepf":false,"states":[{"cam":true,"climb":false,"dir":false,"gid":-1,"gk":0,"id":1,"move":true,"name":"狀態1","pix":true,"pos":false,"stop":false,"sx":{"k":12,"v":1},"sy":{"k":12,"v":1},"sz":{"k":12,"v":1},"through":false,"x":0,"y":0}]},{"events":[{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":1}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"command":[7,-1,1,1,1,0,1],"kind":21},{"command":[1,7,2,1,0,1,2],"kind":19}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":2}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"command":[7,-1,1,1,1,1,1],"kind":21},{"command":[1,7,2,1,0,1,2],"kind":19}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":3}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"command":[7,-1,1,1,1,2,1],"kind":21},{"command":[1,7,2,1,0,1,2],"kind":19}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":4}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"command":[7,-1,1,1,1,3,1],"kind":21},{"command":[1,7,2,1,0,1,2],"kind":19}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":9}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"children":[{"command":[7,1,0,10,1],"kind":30},{"command":[0,1,0,0,3,0,0,3,0,0,3,0,0,0,12,-90,12,0,3,0,1,12,1],"kind":23},{"command":[7,1,0,10,0],"kind":30}],"command":[0,0,6,1,0,10,0],"kind":8},{"command":[],"kind":10}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":10}},{"id":2,"name":"Repeat","v":{"k":10,"v":true}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"children":[{"command":[7,1,0,10,1],"kind":30},{"command":[0,1,0,0,3,0,0,3,0,0,3,0,0,0,12,90,12,0,3,0,1,12,1],"kind":23},{"command":[7,1,0,10,0],"kind":30}],"command":[0,0,6,1,0,10,0],"kind":8},{"command":[],"kind":10}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":11}},{"id":2,"name":"Repeat","v":{"k":10,"v":false}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":false}}],"r":{"1":{"bh":false,"c":[{"command":[1,7,1,1,0,1,1],"kind":19}]}},"sys":true},{"id":3,"name":"KeyPress","p":[{"id":1,"name":"ID","v":{"k":11,"v":13}},{"id":2,"name":"Repeat","v":{"k":10,"v":false}},{"id":3,"name":"Immediate Repeat","v":{"k":10,"v":false}}],"r":{"1":{"bh":false,"c":[{"command":[],"kind":11}]}},"sys":true},{"id":1,"name":"Time","p":[{"id":1,"name":"Interval","v":{"k":2,"v":null}},{"id":2,"name":"Repeat","v":{"k":2,"v":null}}],"r":{"1":{"bh":false,"c":[{"command":[1,7,2,1,0,1,3],"kind":19}]}},"sys":true},{"id":1,"name":"Time","p":[{"id":1,"name":"Interval","v":{"k":2,"v":null}},{"id":2,"name":"Repeat","v":{"k":10,"v":false}}],"r":{"1":{"bh":true,"c":[{"command":[7,1,0,10,0],"kind":30},{"command":[0,26,0,4,7,0,0],"kind":2},{"command":[0,27,0,4,7,0,0],"kind":2}]}},"sys":true},{"id":5,"name":"MouseDown","p":[{"id":1,"name":"x","v":{"k":1,"v":null}},{"id":2,"name":"y","v":{"k":1,"v":null}},{"id":3,"name":"Left","v":{"k":2,"v":null}},{"id":4,"name":"Repeat","v":{"k":10,"v":true}}],"r":{"1":{"bh":false,"c":[{"children":[{"command":[7,-1,1,1,1,2,1],"kind":21}],"command":[0,7,8,"Core.ReactionInterpreter.currentParameters[1].getValue() <= (Common.ScreenResolution.CANVAS_WIDTH - Common.ScreenResolution.getScreenX(64)) / 2"],"kind":8},{"command":[],"kind":10},{"children":[{"command":[7,-1,1,1,1,3,1],"kind":21}],"command":[0,7,8,"Core.ReactionInterpreter.currentParameters[1].getValue() >= (Common.ScreenResolution.CANVAS_WIDTH + Common.ScreenResolution.getScreenX(64)) / 2"],"kind":8},{"command":[],"kind":10},{"children":[{"command":[7,-1,1,1,1,0,1],"kind":21}],"command":[0,7,8,"Core.ReactionInterpreter.currentParameters[2].getValue() <= (Common.ScreenResolution.CANVAS_HEIGHT - Common.ScreenResolution.getScreenY(64)) / 2"],"kind":8},{"command":[],"kind":10},{"children":[{"command":[7,-1,1,1,1,1,1],"kind":21}],"command":[0,7,8,"Core.ReactionInterpreter.currentParameters[2].getValue() >= (Common.ScreenResolution.CANVAS_HEIGHT + Common.ScreenResolution.getScreenY(64)) / 2"],"kind":8},{"command":[],"kind":10},{"command":[1,7,2,1,0,1,2],"kind":19}]}},"sys":true}],"hId":-1,"id":2,"name":"英雄","ooepf":false,"p":[{"id":1,"iv":{"k":10,"v":false},"name":"CameraMoving"}],"states":[{"cam":true,"climb":true,"dir":false,"gid":1,"gk":4,"id":1,"move":true,"name":"狀態1","pix":true,"pos":false,"stop":true,"sx":{"k":12,"v":1},"sy":{"k":12,"v":1},"sz":{"k":12,"v":1},"through":false,"x":0,"y":0}]},{"events":[{"id":1,"name":"Hero action","p":[],"r":{"1":{"bh":true,"c":[{"children":[],"command":[0,0,4,2,0,12,0],"kind":8},{"command":[],"kind":10}]}},"sys":false}],"hId":-1,"id":3,"name":"NPC","ooepf":false,"p":[{"id":1,"iv":{"k":4,"v":1},"name":"對話"}],"states":[{"cam":true,"climb":false,"dir":false,"ecd":{"command":[1,7,1,1,0,0,1,1,2,2,2],"kind":19},"gid":-1,"gk":0,"id":1,"move":true,"name":"狀態1","pix":true,"pos":false,"stop":false,"sx":{"k":12,"v":1},"sy":{"k":12,"v":1},"sz":{"k":12,"v":1},"through":false,"x":0,"y":0}]},{"events":[{"id":1,"name":"Time","p":[{"id":1,"name":"Interval","v":{"k":12,"v":5}},{"id":2,"name":"Repeat","v":{"k":2,"v":null}}],"r":{"1":{"bh":true,"c":[{"command":[0,"// 獲取 Hero 和 NPC 事件\nlet hero = RPM.Game.hero;\nlet follower = RPM.Game.getEventByID(2); // 這裡的 2 是你的 NPC 事件 ID，請確認 ID 是否正確\n\n// 如果 heroPositions 陣列不存在，則初始化它\nif (!this.heroPositions) {\n    this.heroPositions = [];\n}\n\n// 限制記錄的步數，避免數據過多\nif (this.heroPositions.length > 10) {\n    this.heroPositions.shift();\n}\n\n// 記錄 Hero 當前的位置\nthis.heroPositions.push({ x: hero.position.x, y: hero.position.y });\n\n// 讓 NPC 跟隨 Hero（延遲 5 步）\nif (this.heroPositions.length > 5) {\n    let targetPos = this.heroPositions[0]; // 取得 Hero 5 步前的位置\n    follower.moveTo(targetPos.x, targetPos.y);\n}\n"],"kind":34}]}},"sys":true}],"hId":-1,"id":4,"name":"Caterpillar_System","ooepf":false,"states":[{"cam":true,"climb":false,"dir":false,"gid":-1,"gk":0,"id":1,"move":true,"name":"狀態1","pix":true,"pos":false,"stop":false,"sx":{"k":12,"v":1},"sy":{"k":12,"v":1},"sz":{"k":12,"v":1},"through":false,"x":0,"y":0}]}],"commonReactors":[{"bh":true,"c":[{"command":[5,1,0,4,125,1,0,5,2,0,1],"kind":49}],"id":1,"name":"增加","p":[{"d":{"k":3,"v":1},"id":1,"name":"statistic ID"},{"d":{"k":3,"v":0},"id":2,"name":"addition"}]},{"bh":true,"c":[{"command":[0,125,0,1,3,1,3,50],"kind":2},{"command":[7,1,1,4,125],"kind":53},{"command":[8,"",-1,0,0,1,"[var=125] [ico=6;0;0]"],"kind":1}],"id":2,"name":"Steal"},{"bh":true,"c":[{"command":[0,"Core.Game.current.variables[10] = [];\n"],"kind":34},{"command":[4],"kind":45}],"id":3,"name":"初始化追隨者"},{"bh":true,"c":[{"children":[{"children":[],"command":[0,7,8,""],"kind":8},{"command":[],"kind":10}],"command":[],"kind":4},{"command":[],"kind":5}],"id":4,"name":"Update followers"}],"eventsSystem":[{"id":1,"name":"Time","p":[{"d":{"k":3,"v":0},"id":1,"name":"Interval"},{"d":{"k":10,"v":true},"id":2,"name":"Repeat"}]},{"id":2,"name":"Chronometer finished","p":[{"d":{"k":3,"v":0},"id":1,"name":"ID"}]},{"id":3,"name":"KeyPress","p":[{"d":{"k":1,"v":null},"id":1,"name":"ID"},{"d":{"k":10,"v":false},"id":2,"name":"Repeat"},{"d":{"k":10,"v":false},"id":3,"name":"Immediate Repeat"}]},{"id":4,"name":"KeyRelease","p":[{"d":{"k":1,"v":null},"id":1,"name":"ID"}]},{"id":5,"name":"MouseDown","p":[{"d":{"k":3,"v":0},"id":1,"name":"x"},{"d":{"k":3,"v":0},"id":2,"name":"y"},{"d":{"k":10,"v":true},"id":3,"name":"Left"},{"d":{"k":10,"v":false},"id":4,"name":"Repeat"}]},{"id":6,"name":"MouseUp","p":[{"d":{"k":3,"v":0},"id":1,"name":"x"},{"d":{"k":3,"v":0},"id":2,"name":"y"},{"d":{"k":10,"v":true},"id":3,"name":"Left"}]},{"id":7,"name":"MouseMove","p":[{"d":{"k":3,"v":0},"id":1,"name":"x"},{"d":{"k":3,"v":0},"id":2,"name":"y"}]}],"eventsUser":[{"id":1,"name":"Hero action"},{"id":2,"name":"Hero touch"},{"id":3,"name":"Enemy touch"},{"id":4,"name":"Common reactions","p":[{"d":{"k":10,"v":true},"id":1,"name":"Common reactions"}]}],"states":[{"id":1,"name":"狀態1"},{"id":2,"name":"狀態 2"},{"id":3,"name":"狀態 3"},{"id":4,"name":"狀態 4"},{"id":5,"name":"狀態 5"},{"id":6,"name":"狀態 6"},{"id":7,"name":"狀態 7"},{"id":8,"name":"狀態 8"},{"id":9,"name":"狀態 9"},{"id":10,"name":"狀態 10"}]}